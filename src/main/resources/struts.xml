<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE struts PUBLIC
        "-//Apache Software Foundation//DTD Struts Configuration 2.5//EN"
        "http://struts.apache.org/dtds/struts-2.5.dtd">

<struts>
	<constant name="struts.enable.DynamicMethodInvocation" value="true"/>
	<constant name="struts.objectFactory" value="spring" />
    <constant name="struts.devMode" value="true" />
	<package name="company" namespace="/" extends="struts-default">

		<action name="loginAction" class="loginAction">
			<result name="success">/company.jsp</result>
			<result name="error">/login.jsp</result>
		</action>
		<action name="registerAction" class="registerAction">
			<result name="success">/login.jsp</result>
			<result name="error">/register.jsp</result>
		</action>

		<action name="*EmployeeAction" class="employeeAction" method="{1}">
			<result name="list">/company/showEmployee.jsp</result>
			<result name="delete" type="redirect">listEmployeeAction.action</result>
			<result name="update" type="redirect">listEmployeeAction.action</result>
			<allowed-methods>delete,update</allowed-methods>
		</action>

		<action name="*CarAction" class="carAction" method="{1}">
			<result name="list">/company/showCar.jsp</result>
			<result name="delete" type="redirect">listCarAction.action</result>
			<result name="update" type="redirect">listCarAction.action</result>
			<allowed-methods>delete,update</allowed-methods>
		</action>

		<action name="*CompanyAction" class="companyAction" method="{1}">
			<result name="list">/company/showCompany.jsp</result>
			<result name="update" type="redirect">listCompanyAction.action</result>
			<result name="delete" type="redirectAction">
				<param name="namespace">/user</param>
				<param name="actionName">adminGetAllCompanyAction.action</param>
			</result>
			<result name="adminUpdate" type="redirectAction">
				<param name="namespace">/user</param>
				<param name="actionName">adminGetAllCompanyAction.action</param>
			</result>
			<allowed-methods>update,delete,adminUpdate</allowed-methods>
		</action>
	</package>

	<package name="add" namespace="/company" extends="struts-default">
		<action name="addEmployeeAction" class="employeeAction" method="add">
			<result name="add" type="redirectAction">
				<param name="namespace">/</param>
				<param name="actionName">listEmployeeAction</param>
			</result>
		</action>
		<action name="addCarAction" class="carAction" method="add">
			<result name="add" type="redirectAction">
				<param name="namespace">/</param>
				<param name="actionName">listCarAction</param>
			</result>
		</action>
	</package>
	<!--<package name="user" namespace="/user" extends="struts-default">-->
		<!--<action name="userLoginAction" class="com.ndt.action.UserLoginAction" method="execute">-->
			<!--<result name="userLoginSuccess">/user.jsp</result>-->
		<!--</action>-->
	<!--</package>-->

</struts>